{"version":3,"sources":["webpack:///client.9116424d.js","webpack:///./src/views/PlaylistListView.js","webpack:///./src/components/Error.js","webpack:///./src/views/PlaylistContentView.js","webpack:///./src/components/PlaylistEntries.js","webpack:///./src/spotifyApi.js","webpack:///./src/components/SortAndFilterForm.js","webpack:///./src/services/TrackDetailsService.js","webpack:///./src/components/RequestStatus.js","webpack:///./src/auth.js","webpack:///./src/utils/request.js","webpack:///./src/consts.js","webpack:///./src/utils/format.js","webpack:///./src/index.js","webpack:///./src/App.js"],"names":["webpackJsonp","132","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","d","PlaylistListView","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2__spotifyApi__","__WEBPACK_IMPORTED_MODULE_3__components_RequestStatus__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_React$Component","this","_this","getPrototypeOf","state","playlistsRequest","loadData","_this2","then","playlists","setState","onProgress","push","forceUpdate","_this3","result","a","createElement","className","map","pl","id","to","owner","name","display_name","public","collaborative","tracks","total","request","progressMessage","errorMessage","retry","Component","160","_ref","error","message","onClick","toString","JSON","stringify","161","PlaylistContentView","__WEBPACK_IMPORTED_MODULE_1__spotifyApi__","__WEBPACK_IMPORTED_MODULE_2__components_PlaylistEntries__","playlistRequest","params","match","userId","user_id","playlistId","playlist_id","playlist","162","_defineProperty","obj","PlaylistEntries","__WEBPACK_IMPORTED_MODULE_1_lodash_sortBy__","__WEBPACK_IMPORTED_MODULE_1_lodash_sortBy___default","__WEBPACK_IMPORTED_MODULE_2_lodash_get__","__WEBPACK_IMPORTED_MODULE_2_lodash_get___default","__WEBPACK_IMPORTED_MODULE_3_lodash_reverse__","__WEBPACK_IMPORTED_MODULE_3_lodash_reverse___default","__WEBPACK_IMPORTED_MODULE_4_lodash_toPairs__","__WEBPACK_IMPORTED_MODULE_4_lodash_toPairs___default","__WEBPACK_IMPORTED_MODULE_5_immutability_helper__","__WEBPACK_IMPORTED_MODULE_5_immutability_helper___default","__WEBPACK_IMPORTED_MODULE_6__RequestStatus__","__WEBPACK_IMPORTED_MODULE_7__SortAndFilterForm__","__WEBPACK_IMPORTED_MODULE_8__services_TrackDetailsService__","__WEBPACK_IMPORTED_MODULE_9__spotifyApi__","__WEBPACK_IMPORTED_MODULE_10__consts__","__WEBPACK_IMPORTED_MODULE_11__utils_format__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","err","Array","isArray","playlistEntriesRequest","trackDetailsRequest","sort","reverse","filters","loadPlaylistEntries","playlistEntries","loadTrackDetails","trackIds","ple","track","ensureLoaded","title","prompt","spotifyUris","uri","filter","alert","catch","console","jsonData","blob","Blob","type","url","URL","createObjectURL","downloadLink","assign","document","href","download","body","appendChild","click","setTimeout","parentNode","removeChild","filterPairs","filterEntry","entry","every","_ref3","_ref4","filterValue","parseFloat","Number","isNaN","_key$split","split","_key$split2","field","op","objectValue","warn","entries","getDetails","sortKey","_this4","_state","detailsStatus","sortAndFilterEntries","setValue","setFilterValue","updateCommand","$unset","$set","newFilters","disabled","createNewPlaylist","downloadEntriesJSON","f","originalIndex","artists","join","album","duration_ms","17","requestAuthenticated","options","auth","__WEBPACK_IMPORTED_MODULE_2__auth__","access_token","Promise","reject","Error","headers","Authorization","__WEBPACK_IMPORTED_MODULE_0_axios_index___default","method","loadPagedResource","limit","requestLimit","arguments","offset","items","__WEBPACK_IMPORTED_MODULE_3__utils_request__","resolve","tick","data","forEach","reportProgress","loaded","cancelRequested","cancel","getPlaylists","getPlaylist","plPromise","_ref2","getPlaylistEntries","req","createPlaylistWithTracks","userResp","userData","userName","description","Date","toISOString","resp","newPlaylistId","spotifyUriChunks","__WEBPACK_IMPORTED_MODULE_1_lodash_chunk___default","spotifyUriChunk","shift","uris","__WEBPACK_IMPORTED_MODULE_0_axios_index__","__WEBPACK_IMPORTED_MODULE_1_lodash_chunk__","260","SortAndFilterForm","__WEBPACK_IMPORTED_MODULE_1__consts__","__WEBPACK_IMPORTED_MODULE_2__utils_format__","apply","lteFields","gteFields","size","onChange","e","checked","267","__WEBPACK_IMPORTED_MODULE_0__spotifyApi__","__WEBPACK_IMPORTED_MODULE_1__utils_request__","TrackDetailsService","cache","Map","listeners","newTrackIds","trackId","has","trackIdsToQuery","slice","ids","audio_features","fobj","set","details","get","268","exports","36","__WEBPACK_IMPORTED_MODULE_1__Error__","busy","progress","replace","max","52","getAuth","parse","sessionStorage","plsAuth","expiresAt","redirectToAuth","location","__WEBPACK_IMPORTED_MODULE_0_querystring___default","response_type","client_id","scope","show_dialog","redirect_uri","checkAndSaveAuth","hqs","hash","token_type","expires_in","__WEBPACK_IMPORTED_MODULE_0_querystring__","62","Request","promiseOrExecutor","_promise","_initializePromise","promise","thenner","fn","80","DETAILS_FIELDS","RESORT_FIELDS","concat","81","formatDuration","formatTitle","__WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst__","__WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst___default","ms","totalSecs","Math","round","floor","padStart","83","87","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_3__style_css__","root","render","99","App","__WEBPACK_IMPORTED_MODULE_3__views_PlaylistListView__","__WEBPACK_IMPORTED_MODULE_4__views_PlaylistContentView__","path","component","exact"],"mappings":"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","file":"client.9116424d.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 132:\n/*!***************************************!*\\\n  !*** ./src/views/PlaylistListView.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlaylistListView; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(/*! react-router-dom */ 44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__spotifyApi__ = __webpack_require__(/*! ../spotifyApi */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_RequestStatus__ = __webpack_require__(/*! ../components/RequestStatus */ 36);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar PlaylistListView = function (_React$Component) {\n  _inherits(PlaylistListView, _React$Component);\n\n  function PlaylistListView(props) {\n    _classCallCheck(this, PlaylistListView);\n\n    var _this = _possibleConstructorReturn(this, (PlaylistListView.__proto__ || Object.getPrototypeOf(PlaylistListView)).call(this, props));\n\n    _this.state = { playlistsRequest: null };\n    return _this;\n  }\n\n  _createClass(PlaylistListView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: 'loadData',\n    value: function loadData() {\n      var _this2 = this;\n\n      var playlistsRequest = Object(__WEBPACK_IMPORTED_MODULE_2__spotifyApi__[\"d\" /* getPlaylists */])();\n      playlistsRequest.then(function (playlists) {\n        _this2.setState({ playlists: playlists });\n      });\n      playlistsRequest.onProgress.push(function () {\n        _this2.forceUpdate();\n      });\n      this.setState({ playlistsRequest: playlistsRequest });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var playlistsRequest = this.state.playlistsRequest;\n\n      if (!playlistsRequest) return null;\n      if (!playlistsRequest.result) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_RequestStatus__[\"a\" /* default */], {\n          request: playlistsRequest,\n          progressMessage: 'Loading {n} playlists...',\n          errorMessage: 'Oops, an error occurred loading your playlists.',\n          retry: function retry() {\n            return _this3.loadData();\n          }\n        });\n      }\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'table',\n        { className: 'visual-table' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'thead',\n          null,\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'tr',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'th',\n              null,\n              'Name'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'th',\n              null,\n              'Public?'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'th',\n              null,\n              'Collaborative?'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'th',\n              null,\n              'Tracks'\n            )\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'tbody',\n          null,\n          (this.state.playlists || []).map(function (pl) {\n            return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tr',\n              { key: pl.id },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  __WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"b\" /* Link */],\n                  { to: '/playlist/' + pl.owner.id + '/' + pl.id },\n                  __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'b',\n                    null,\n                    pl.name\n                  ),\n                  ' by ',\n                  pl.owner.display_name || pl.owner.id\n                )\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                null,\n                pl.public ? 'Public' : null\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                null,\n                pl.collaborative ? 'Collab' : null\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'td',\n                null,\n                pl.tracks.total\n              )\n            );\n          })\n        )\n      );\n    }\n  }]);\n\n  return PlaylistListView;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n\n\n/***/ }),\n\n/***/ 160:\n/*!*********************************!*\\\n  !*** ./src/components/Error.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var error = _ref.error,\n      message = _ref.message,\n      retry = _ref.retry;\n  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'div',\n    null,\n    message,\n    retry ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'button',\n      { onClick: function onClick() {\n          return retry();\n        } },\n      'Try again'\n    ) : null,\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'details',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'summary',\n        null,\n        'Error Details'\n      ),\n      error.toString(),\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br', null),\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'pre',\n        null,\n        JSON.stringify(error, null, 2)\n      )\n    )\n  );\n});\n\n/***/ }),\n\n/***/ 161:\n/*!******************************************!*\\\n  !*** ./src/views/PlaylistContentView.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlaylistContentView; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__spotifyApi__ = __webpack_require__(/*! ../spotifyApi */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_PlaylistEntries__ = __webpack_require__(/*! ../components/PlaylistEntries */ 162);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_RequestStatus__ = __webpack_require__(/*! ../components/RequestStatus */ 36);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar PlaylistContentView = function (_React$Component) {\n  _inherits(PlaylistContentView, _React$Component);\n\n  function PlaylistContentView(props) {\n    _classCallCheck(this, PlaylistContentView);\n\n    var _this = _possibleConstructorReturn(this, (PlaylistContentView.__proto__ || Object.getPrototypeOf(PlaylistContentView)).call(this, props));\n\n    _this.state = { playlistRequest: null };\n    return _this;\n  }\n\n  _createClass(PlaylistContentView, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadData();\n    }\n  }, {\n    key: 'loadData',\n    value: function loadData() {\n      var _this2 = this;\n\n      var params = this.props.match.params;\n\n      var userId = params.user_id;\n      var playlistId = params.playlist_id;\n      var playlistRequest = Object(__WEBPACK_IMPORTED_MODULE_1__spotifyApi__[\"b\" /* getPlaylist */])(userId, playlistId);\n      playlistRequest.then(function (playlist) {\n        _this2.setState({ playlist: playlist });\n      });\n      this.setState({ playlistRequest: playlistRequest });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var playlistRequest = this.state.playlistRequest;\n\n      if (!playlistRequest) return null;\n      if (!playlistRequest.result) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_RequestStatus__[\"a\" /* default */], {\n          request: playlistRequest,\n          progressMessage: 'Loading playlist...',\n          errorMessage: 'Oops, an error occurred loading this playlists.',\n          retry: function retry() {\n            return _this3.loadData();\n          }\n        });\n      }\n      if (!this.state.playlist) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          null,\n          'Something unexpected happened. Sorry.'\n        );\n      }\n      var playlist = this.state.playlist;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'h1',\n          null,\n          playlist.name\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__components_PlaylistEntries__[\"a\" /* default */], { playlist: playlist })\n      );\n    }\n  }]);\n\n  return PlaylistContentView;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n\n\n/***/ }),\n\n/***/ 162:\n/*!*******************************************!*\\\n  !*** ./src/components/PlaylistEntries.js ***!\n  \\*******************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PlaylistEntries; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_sortBy__ = __webpack_require__(/*! lodash/sortBy */ 163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_sortBy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_sortBy__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_get__ = __webpack_require__(/*! lodash/get */ 76);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_get___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash_get__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_reverse__ = __webpack_require__(/*! lodash/reverse */ 254);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_reverse___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash_reverse__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_toPairs__ = __webpack_require__(/*! lodash/toPairs */ 255);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_toPairs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_toPairs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutability_helper__ = __webpack_require__(/*! immutability-helper */ 259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_immutability_helper___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_immutability_helper__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__RequestStatus__ = __webpack_require__(/*! ./RequestStatus */ 36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__SortAndFilterForm__ = __webpack_require__(/*! ./SortAndFilterForm */ 260);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__services_TrackDetailsService__ = __webpack_require__(/*! ../services/TrackDetailsService */ 267);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__spotifyApi__ = __webpack_require__(/*! ../spotifyApi */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__consts__ = __webpack_require__(/*! ../consts */ 80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_format__ = __webpack_require__(/*! ../utils/format */ 81);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable no-alert,no-console */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PlaylistEntries = function (_React$Component) {\n  _inherits(PlaylistEntries, _React$Component);\n\n  function PlaylistEntries(props) {\n    _classCallCheck(this, PlaylistEntries);\n\n    var _this = _possibleConstructorReturn(this, (PlaylistEntries.__proto__ || Object.getPrototypeOf(PlaylistEntries)).call(this, props));\n\n    _this.state = {\n      playlistEntriesRequest: null,\n      trackDetailsRequest: null,\n      sort: 'original',\n      reverse: false,\n      filters: {}\n    };\n    return _this;\n  }\n\n  _createClass(PlaylistEntries, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadPlaylistEntries();\n    }\n  }, {\n    key: 'loadPlaylistEntries',\n    value: function loadPlaylistEntries() {\n      var _this2 = this;\n\n      var playlist = this.props.playlist;\n\n      var playlistEntriesRequest = Object(__WEBPACK_IMPORTED_MODULE_9__spotifyApi__[\"c\" /* getPlaylistEntries */])(playlist.owner.id, playlist.id);\n\n      playlistEntriesRequest.onProgress.push(function () {\n        _this2.forceUpdate();\n      });\n      playlistEntriesRequest.then(function (playlistEntries) {\n        _this2.setState({ playlistEntries: playlistEntries });\n        _this2.loadTrackDetails();\n      });\n      this.setState({ playlistEntriesRequest: playlistEntriesRequest });\n    }\n  }, {\n    key: 'loadTrackDetails',\n    value: function loadTrackDetails() {\n      var _this3 = this;\n\n      var trackIds = this.state.playlistEntries.map(function (ple) {\n        return ple.track.id;\n      });\n      if (!trackIds.length) return;\n      var trackDetailsRequest = __WEBPACK_IMPORTED_MODULE_8__services_TrackDetailsService__[\"a\" /* default */].ensureLoaded(trackIds);\n\n      trackDetailsRequest.onProgress.push(function () {\n        _this3.forceUpdate();\n      });\n      trackDetailsRequest.then(function () {\n        _this3.setState({ trackDetailsRequest: null });\n      });\n      this.setState({ trackDetailsRequest: trackDetailsRequest });\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: 'createNewPlaylist',\n    value: function createNewPlaylist(tracks) {\n      var title = prompt('What should the new playlist be called?');\n      if (!title) {\n        return false;\n      }\n      var spotifyUris = tracks.map(function (track) {\n        return track.uri;\n      }).filter(function (uri) {\n        return uri;\n      });\n      return Object(__WEBPACK_IMPORTED_MODULE_9__spotifyApi__[\"a\" /* createPlaylistWithTracks */])(title, spotifyUris).then(function () {\n        alert('Playlist successfully created. :)');\n      }).catch(function (err) {\n        console.error(err);\n        alert('Error creating playlist: ' + err);\n      });\n    }\n  }, {\n    key: 'downloadEntriesJSON',\n    value: function downloadEntriesJSON(tracks) {\n      var playlist = this.props.playlist;\n\n      var jsonData = JSON.stringify(tracks, null, 2);\n      var blob = new Blob([jsonData], { type: 'application/json' });\n      var url = URL.createObjectURL(blob);\n      var downloadLink = Object.assign(document.createElement('a'), {\n        href: url,\n        download: 'pls-' + playlist.name + '.json'\n      });\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      setTimeout(function () {\n        downloadLink.parentNode.removeChild(downloadLink);\n      }, 500);\n    }\n  }, {\n    key: 'sortAndFilterEntries',\n    value: function sortAndFilterEntries(playlistEntries) {\n      var filterPairs = __WEBPACK_IMPORTED_MODULE_4_lodash_toPairs___default()(this.state.filters).filter(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            value = _ref2[1];\n\n        return value !== '';\n      });\n      var filterEntry = function filterEntry(entry) {\n        return filterPairs.every(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              key = _ref4[0],\n              value = _ref4[1];\n\n          var filterValue = parseFloat(value);\n          if (Number.isNaN(filterValue)) return true;\n\n          var _key$split = key.split(':'),\n              _key$split2 = _slicedToArray(_key$split, 2),\n              field = _key$split2[0],\n              op = _key$split2[1];\n\n          var objectValue = entry[field];\n          if (objectValue === undefined) return false;\n          if (op === 'gte') return objectValue >= filterValue;\n          if (op === 'lte') return objectValue <= filterValue;\n          console.warn(key, field, op, value);\n          return true;\n        });\n      };\n      var entries = (playlistEntries || []).map(function (ple) {\n        return Object.assign({}, ple, ple.track, __WEBPACK_IMPORTED_MODULE_8__services_TrackDetailsService__[\"a\" /* default */].getDetails(ple.track.id) || {}, { track: null });\n      }).filter(filterEntry);\n      if (this.state.sort !== 'original') {\n        var sortKey = this.state.sort;\n        entries = __WEBPACK_IMPORTED_MODULE_1_lodash_sortBy___default()(entries, function (entry) {\n          return __WEBPACK_IMPORTED_MODULE_2_lodash_get___default()(entry, sortKey);\n        });\n      }\n      if (this.state.reverse) {\n        entries = __WEBPACK_IMPORTED_MODULE_3_lodash_reverse___default()(entries);\n      }\n      return entries;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _state = this.state,\n          playlistEntries = _state.playlistEntries,\n          playlistEntriesRequest = _state.playlistEntriesRequest,\n          trackDetailsRequest = _state.trackDetailsRequest;\n\n      if (!playlistEntriesRequest) return null;\n      if (!playlistEntriesRequest.result) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__RequestStatus__[\"a\" /* default */], {\n          request: playlistEntriesRequest,\n          progressMessage: 'Loading playlist entries...',\n          errorMessage: 'Oops, an error occurred loading these entries.',\n          retry: function retry() {\n            return _this4.loadData();\n          }\n        });\n      }\n      var detailsStatus = void 0;\n      if (trackDetailsRequest) {\n        detailsStatus = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__RequestStatus__[\"a\" /* default */], {\n          request: trackDetailsRequest,\n          progressMessage: 'Loading track analysis...',\n          retry: function retry() {\n            return _this4.loadTrackDetails();\n          }\n        });\n      }\n      var entries = this.sortAndFilterEntries(playlistEntries);\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        null,\n        detailsStatus,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_7__SortAndFilterForm__[\"a\" /* default */], {\n          sort: this.state.sort,\n          reverse: this.state.reverse,\n          filters: this.state.filters,\n          setValue: function setValue(key, value) {\n            return _this4.setState(_defineProperty({}, key, value));\n          },\n          setFilterValue: function setFilterValue(key, value) {\n            var updateCommand = value === '' ? { $unset: [key] } : _defineProperty({}, key, { $set: value });\n            var newFilters = __WEBPACK_IMPORTED_MODULE_5_immutability_helper___default()(_this4.state.filters, updateCommand);\n            return _this4.setState({ filters: newFilters });\n          }\n        }),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'fieldset',\n          null,\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'legend',\n            null,\n            'Tools'\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'button',\n            {\n              disabled: entries.length === 0,\n              onClick: function onClick() {\n                return _this4.createNewPlaylist(entries);\n              }\n            },\n            'Create New Playlist of ',\n            entries.length,\n            ' Tracks'\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'button',\n            {\n              disabled: entries.length === 0,\n              onClick: function onClick() {\n                return _this4.downloadEntriesJSON(entries);\n              }\n            },\n            'Export JSON Track Data'\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'table',\n          { className: 'visual-table' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'thead',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tr',\n              null,\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'th',\n                null,\n                '#'\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'th',\n                null,\n                'Artist'\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'th',\n                null,\n                'Track'\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'th',\n                null,\n                'Album'\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'th',\n                null,\n                'Duration'\n              ),\n              __WEBPACK_IMPORTED_MODULE_10__consts__[\"a\" /* DETAILS_FIELDS */].map(function (f) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'th',\n                  { key: f },\n                  Object(__WEBPACK_IMPORTED_MODULE_11__utils_format__[\"b\" /* formatTitle */])(f)\n                );\n              })\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'tbody',\n            null,\n            entries.map(function (entry) {\n              return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'tr',\n                { key: entry.originalIndex },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  entry.originalIndex + 1\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  entry.artists.map(function (a) {\n                    return a.name;\n                  }).join(', ')\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  entry.name\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  entry.album ? entry.album.name : null\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  Object(__WEBPACK_IMPORTED_MODULE_11__utils_format__[\"a\" /* formatDuration */])(entry.duration_ms)\n                ),\n                __WEBPACK_IMPORTED_MODULE_10__consts__[\"a\" /* DETAILS_FIELDS */].map(function (f) {\n                  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'td',\n                    { key: f },\n                    entry[f]\n                  );\n                })\n              );\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return PlaylistEntries;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n\n\n/***/ }),\n\n/***/ 17:\n/*!***************************!*\\\n  !*** ./src/spotifyApi.js ***!\n  \\***************************/\n/*! exports provided: requestAuthenticated, getPlaylists, getPlaylist, getPlaylistEntries, createPlaylistWithTracks */\n/*! exports used: createPlaylistWithTracks, getPlaylist, getPlaylistEntries, getPlaylists, requestAuthenticated */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = requestAuthenticated;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getPlaylists;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getPlaylist;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getPlaylistEntries;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = createPlaylistWithTracks;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios_index__ = __webpack_require__(/*! axios/index */ 133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios_index___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios_index__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_chunk__ = __webpack_require__(/*! lodash/chunk */ 153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_chunk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_chunk__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth__ = __webpack_require__(/*! ./auth */ 52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_request__ = __webpack_require__(/*! ./utils/request */ 62);\n\n\n\n\n\n\nfunction requestAuthenticated(options) {\n  var auth = Object(__WEBPACK_IMPORTED_MODULE_2__auth__[\"b\" /* getAuth */])();\n  if (!(auth && auth.access_token)) {\n    return Promise.reject(new Error('Not authenticated'));\n  }\n  var headers = Object.assign({}, options.headers || {}, {\n    Authorization: 'Bearer ' + auth.access_token\n  });\n\n  return __WEBPACK_IMPORTED_MODULE_0_axios_index___default.a.request(Object.assign({ method: 'GET' }, options, { headers: headers }));\n}\n\nfunction loadPagedResource(url, params, limit) {\n  var requestLimit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 50;\n\n  var offset = 0;\n  var items = [];\n  return new __WEBPACK_IMPORTED_MODULE_3__utils_request__[\"a\" /* default */](function (resolve, reject, request) {\n    var tick = function tick() {\n      return requestAuthenticated({\n        url: url,\n        params: Object.assign({}, params, { limit: requestLimit, offset: offset })\n      }).then(function (_ref) {\n        var data = _ref.data;\n\n        data.items.forEach(function (playlist) {\n          items.push(playlist);\n        });\n        request.reportProgress({\n          total: data.total,\n          loaded: items.length,\n          items: items\n        });\n        if (request.cancelRequested) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject({ cancel: true });\n          return;\n        }\n        if (data.next && items.length < limit) {\n          offset += data.limit;\n          setTimeout(tick, 16);\n        } else {\n          resolve(items);\n        }\n      }).catch(reject);\n    };\n    tick();\n  });\n}\n\nfunction getPlaylists() {\n  var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0xFFFF;\n\n  return loadPagedResource('https://api.spotify.com/v1/me/playlists', {}, limit);\n}\n\nfunction getPlaylist(userId, playlistId) {\n  var plPromise = requestAuthenticated({\n    url: 'https://api.spotify.com/v1/users/' + userId + '/playlists/' + playlistId\n  }).then(function (_ref2) {\n    var data = _ref2.data;\n    return data;\n  });\n  return new __WEBPACK_IMPORTED_MODULE_3__utils_request__[\"a\" /* default */](plPromise);\n}\n\nfunction getPlaylistEntries(userId, playlistId) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0xFFFF;\n\n  var req = loadPagedResource('https://api.spotify.com/v1/users/' + userId + '/playlists/' + playlistId + '/tracks', {}, limit, 100);\n  req.then(function (entries) {\n    for (var i = 0; i < entries.length; i += 1) {\n      // eslint-disable-next-line no-param-reassign\n      entries[i].originalIndex = i;\n    }\n    return entries;\n  });\n  return req;\n}\n\nfunction createPlaylistWithTracks(title, spotifyUris) {\n  return requestAuthenticated({ method: 'GET', url: 'https://api.spotify.com/v1/me' }).then(function (userResp) {\n    var userData = userResp.data;\n    var userName = userData.id;\n    return requestAuthenticated({\n      method: 'POST',\n      url: 'https://api.spotify.com/v1/users/' + userName + '/playlists',\n      data: {\n        name: title,\n        description: 'Playlist created by pls by @akx on ' + new Date().toISOString(),\n        public: false\n      }\n    }).then(function (resp) {\n      var newPlaylistId = resp.data.id;\n      var spotifyUriChunks = __WEBPACK_IMPORTED_MODULE_1_lodash_chunk___default()(spotifyUris, 100);\n      return new Promise(function (resolve) {\n        var tick = function tick() {\n          if (!spotifyUriChunks.length) {\n            resolve(true);\n            return;\n          }\n          var spotifyUriChunk = spotifyUriChunks.shift();\n          requestAuthenticated({\n            method: 'POST',\n            url: 'https://api.spotify.com/v1/users/' + userName + '/playlists/' + newPlaylistId + '/tracks',\n            data: {\n              uris: spotifyUriChunk\n            }\n          }).then(function () {\n            setTimeout(tick, 16);\n          });\n        };\n        tick();\n      });\n    });\n  });\n}\n\n/***/ }),\n\n/***/ 260:\n/*!*********************************************!*\\\n  !*** ./src/components/SortAndFilterForm.js ***!\n  \\*********************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SortAndFilterForm; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__consts__ = __webpack_require__(/*! ../consts */ 80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_format__ = __webpack_require__(/*! ../utils/format */ 81);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prefer-stateless-function */\n\n\n\n\nvar SortAndFilterForm = function (_React$Component) {\n  _inherits(SortAndFilterForm, _React$Component);\n\n  function SortAndFilterForm() {\n    _classCallCheck(this, SortAndFilterForm);\n\n    return _possibleConstructorReturn(this, (SortAndFilterForm.__proto__ || Object.getPrototypeOf(SortAndFilterForm)).apply(this, arguments));\n  }\n\n  _createClass(SortAndFilterForm, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var lteFields = [];\n      var gteFields = [];\n      __WEBPACK_IMPORTED_MODULE_1__consts__[\"b\" /* RESORT_FIELDS */].forEach(function (f) {\n        gteFields.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'td',\n          { key: f },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n            type: 'number',\n            value: _this2.props.filters[f + ':gte'] || '',\n            size: 3,\n            onChange: function onChange(e) {\n              _this2.props.setFilterValue(f + ':gte', e.target.value);\n            }\n          })\n        ));\n        lteFields.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'td',\n          { key: f },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n            type: 'number',\n            value: _this2.props.filters[f + ':lte'] || '',\n            size: 3,\n            onChange: function onChange(e) {\n              _this2.props.setFilterValue(f + ':lte', e.target.value);\n            }\n          })\n        ));\n      });\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'fieldset',\n        { className: 'sort-and-filter' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'legend',\n          null,\n          'Sort & Filter'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'sort' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'label',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'span',\n              null,\n              'Sort'\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'select',\n              {\n                value: this.props.sort,\n                onChange: function onChange(e) {\n                  _this2.props.setValue('sort', e.target.value);\n                }\n              },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'option',\n                { value: 'original' },\n                'Original sort'\n              ),\n              __WEBPACK_IMPORTED_MODULE_1__consts__[\"b\" /* RESORT_FIELDS */].map(function (f) {\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'option',\n                  { key: f, value: f },\n                  Object(__WEBPACK_IMPORTED_MODULE_2__utils_format__[\"b\" /* formatTitle */])(f)\n                );\n              })\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'label',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n              type: 'checkbox',\n              checked: this.props.reverse,\n              onChange: function onChange(e) {\n                _this2.props.setValue('reverse', e.target.checked);\n              }\n            }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'span',\n              null,\n              'Reverse'\n            )\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'filters' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'table',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'thead',\n              null,\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'tr',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th', null),\n                __WEBPACK_IMPORTED_MODULE_1__consts__[\"b\" /* RESORT_FIELDS */].map(function (f) {\n                  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                    'th',\n                    { key: f },\n                    Object(__WEBPACK_IMPORTED_MODULE_2__utils_format__[\"b\" /* formatTitle */])(f)\n                  );\n                })\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tbody',\n              null,\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'tr',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  '\\u2265'\n                ),\n                gteFields\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'tr',\n                null,\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'td',\n                  null,\n                  '\\u2264'\n                ),\n                lteFields\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return SortAndFilterForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n\n\n/***/ }),\n\n/***/ 267:\n/*!*********************************************!*\\\n  !*** ./src/services/TrackDetailsService.js ***!\n  \\*********************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__spotifyApi__ = __webpack_require__(/*! ../spotifyApi */ 17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_request__ = __webpack_require__(/*! ../utils/request */ 62);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar TrackDetailsService = function () {\n  function TrackDetailsService() {\n    _classCallCheck(this, TrackDetailsService);\n\n    this.cache = new Map();\n    this.listeners = [];\n  }\n\n  _createClass(TrackDetailsService, [{\n    key: 'ensureLoaded',\n    value: function ensureLoaded(trackIds) {\n      var _this = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_1__utils_request__[\"a\" /* default */](function (resolve, reject, request) {\n        var tick = function tick() {\n          var newTrackIds = trackIds.filter(function (trackId) {\n            return !_this.cache.has(trackId);\n          });\n          request.reportProgress({\n            loaded: trackIds.length - newTrackIds.length,\n            total: trackIds.length\n          });\n          if (newTrackIds.length) {\n            var trackIdsToQuery = newTrackIds.slice(0, 100); // Maximum for the API\n            Object(__WEBPACK_IMPORTED_MODULE_0__spotifyApi__[\"e\" /* requestAuthenticated */])({\n              url: 'https://api.spotify.com/v1/audio-features',\n              params: {\n                ids: trackIdsToQuery.join(',')\n              }\n            }).then(function (resp) {\n              resp.data.audio_features.forEach(function (fobj) {\n                _this.cache.set(fobj.id, fobj);\n              });\n              setTimeout(tick, 16);\n            });\n            return;\n          }\n          var details = {};\n          trackIds.forEach(function (trackId) {\n            details[trackId] = _this.cache.get(trackId);\n          });\n          resolve(details);\n        };\n        tick();\n      });\n    }\n  }, {\n    key: 'getDetails',\n    value: function getDetails(trackId) {\n      return this.cache.get(trackId);\n    }\n  }]);\n\n  return TrackDetailsService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new TrackDetailsService());\n\n/***/ }),\n\n/***/ 268:\n/*!***********************!*\\\n  !*** ./src/style.css ***!\n  \\***********************/\n/*! dynamic exports provided */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 36:\n/*!*****************************************!*\\\n  !*** ./src/components/RequestStatus.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Error__ = __webpack_require__(/*! ./Error */ 160);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var request = _ref.request,\n      progressMessage = _ref.progressMessage,\n      errorMessage = _ref.errorMessage,\n      retry = _ref.retry;\n\n  if (!request) return null;\n  if (request.error) {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__Error__[\"a\" /* default */], {\n      error: request.error,\n      message: errorMessage || 'An error occurred',\n      retry: retry\n    });\n  }\n  if (request.busy) {\n    var progress = request.progress;\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'div',\n      { className: 'request-status' },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { className: 'request-status-message' },\n        (progressMessage || 'Loading').replace('{n}', progress && progress.total ? '' + progress.total : '')\n      ),\n      progress && progress.loaded ? __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        { className: 'request-status-progress-wrapper' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'span',\n          null,\n          progress.loaded,\n          '/',\n          progress.total\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('progress', { max: progress.total, value: progress.loaded })\n      ) : null\n    );\n  }\n  return null;\n});\n\n/***/ }),\n\n/***/ 52:\n/*!*********************!*\\\n  !*** ./src/auth.js ***!\n  \\*********************/\n/*! exports provided: getAuth, redirectToAuth, checkAndSaveAuth */\n/*! exports used: checkAndSaveAuth, getAuth, redirectToAuth */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getAuth;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = redirectToAuth;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = checkAndSaveAuth;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_querystring__ = __webpack_require__(/*! querystring */ 129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_querystring___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_querystring__);\n/* eslint-disable no-restricted-globals */\n\n\nfunction getAuth() {\n  var auth = JSON.parse(sessionStorage.plsAuth || 'null');\n  if (auth) {\n    if (+new Date() >= auth.expiresAt) {\n      return null;\n    }\n    return auth;\n  }\n  return null;\n}\n\nfunction redirectToAuth() {\n  location.href = 'https://accounts.spotify.com/authorize?' + __WEBPACK_IMPORTED_MODULE_0_querystring___default.a.stringify({\n    response_type: 'token',\n    client_id: \"06840691930b4872b535ede501942995\",\n    scope: ['user-read-private', 'playlist-modify-private', 'playlist-modify-public', 'playlist-read-private', 'playlist-read-collaborative'].join(' '),\n    show_dialog: true,\n    redirect_uri: location.href.replace(/[?#]+.*/g, '')\n  });\n}\n\nfunction checkAndSaveAuth() {\n  var hqs = __WEBPACK_IMPORTED_MODULE_0_querystring___default.a.parse(location.hash.replace(/^#/, ''));\n  if (hqs.access_token && hqs.token_type === 'Bearer') {\n    var auth = Object.assign({ expiresAt: +new Date() + hqs.expires_in * 1000 }, hqs);\n    sessionStorage.plsAuth = JSON.stringify(auth);\n    location.hash = '';\n    return auth;\n  }\n  return null;\n}\n\n/***/ }),\n\n/***/ 62:\n/*!******************************!*\\\n  !*** ./src/utils/request.js ***!\n  \\******************************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Request; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable no-underscore-dangle */\nvar Request = function () {\n  function Request(promiseOrExecutor) {\n    _classCallCheck(this, Request);\n\n    this.progress = null;\n    this.cancelRequested = false;\n    this.onProgress = [];\n    this.busy = true;\n    this.result = null;\n    this.error = null;\n    this._promise = this._initializePromise(promiseOrExecutor);\n  }\n\n  _createClass(Request, [{\n    key: \"_initializePromise\",\n    value: function _initializePromise(promiseOrExecutor) {\n      var _this = this;\n\n      var promise = void 0;\n      if (promiseOrExecutor.then) {\n        promise = promiseOrExecutor;\n      } else {\n        promise = new Promise(function (resolve, reject) {\n          return promiseOrExecutor(resolve, reject, _this);\n        });\n      }\n      return promise.then(function (result) {\n        _this.busy = false;\n        _this.result = result;\n        return result;\n      }).catch(function (err) {\n        _this.busy = false;\n        _this.error = err;\n        return Promise.reject(err);\n      });\n    }\n  }, {\n    key: \"then\",\n    value: function then(thenner) {\n      this._promise = this._promise.then(thenner);\n      return this;\n    }\n  }, {\n    key: \"catch\",\n    value: function _catch(thenner) {\n      this._promise = this._promise.catch(thenner);\n      return this;\n    }\n  }, {\n    key: \"reportProgress\",\n    value: function reportProgress(progress) {\n      var _this2 = this;\n\n      this.progress = progress;\n      this.onProgress.forEach(function (fn) {\n        return fn(_this2.progress);\n      });\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (!this.cancelRequested) {\n        this.cancelRequested = true;\n      }\n    }\n  }]);\n\n  return Request;\n}();\n\n\n\n/***/ }),\n\n/***/ 80:\n/*!***********************!*\\\n  !*** ./src/consts.js ***!\n  \\***********************/\n/*! exports provided: DETAILS_FIELDS, RESORT_FIELDS */\n/*! exports used: DETAILS_FIELDS, RESORT_FIELDS */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DETAILS_FIELDS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return RESORT_FIELDS; });\nvar DETAILS_FIELDS = ['tempo', 'time_signature', 'key', 'mode', 'acousticness', 'danceability', 'energy', 'instrumentalness', 'loudness', 'speechiness', 'valence'];\n\nvar RESORT_FIELDS = ['name', 'duration_ms'].concat(DETAILS_FIELDS);\n\n/***/ }),\n\n/***/ 81:\n/*!*****************************!*\\\n  !*** ./src/utils/format.js ***!\n  \\*****************************/\n/*! exports provided: formatDuration, formatTitle */\n/*! exports used: formatDuration, formatTitle */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return formatDuration; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return formatTitle; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst__ = __webpack_require__(/*! lodash/upperFirst */ 261);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst__);\n\n\nvar formatDuration = function formatDuration(ms) {\n  var totalSecs = Math.round(ms / 1000);\n  var mins = Math.floor(totalSecs / 60);\n  var secs = totalSecs % 60;\n  return mins + ':' + secs.toString().padStart(2, '0');\n};\n\nvar formatTitle = function formatTitle(f) {\n  return f === 'time_signature' ? 'Timesig' : __WEBPACK_IMPORTED_MODULE_0_lodash_upperFirst___default()(f).replace('_', ' ');\n};\n\n/***/ }),\n\n/***/ 83:\n/*!*********************************************************************!*\\\n  !*** multi ./node_modules/react-hot-loader/patch.js ./src/index.js ***!\n  \\*********************************************************************/\n/*! dynamic exports provided */\n/*! all exports used */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(/*! /Users/akx/build/pls/node_modules/react-hot-loader/patch.js */84);\nmodule.exports = __webpack_require__(/*! /Users/akx/build/pls/src/index.js */87);\n\n\n/***/ }),\n\n/***/ 87:\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no exports provided */\n/*! all exports used */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(/*! react-dom */ 89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(/*! ./App */ 99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_css__ = __webpack_require__(/*! ./style.css */ 268);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_css__);\n\n\n\n\n\nvar root = document.createElement('main');\ndocument.body.appendChild(root);\n__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__App__[\"a\" /* default */], null), root);\n\n/***/ }),\n\n/***/ 99:\n/*!********************!*\\\n  !*** ./src/App.js ***!\n  \\********************/\n/*! exports provided: default */\n/*! exports used: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return App; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(/*! react */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(/*! react-router-dom */ 44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth__ = __webpack_require__(/*! ./auth */ 52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__views_PlaylistListView__ = __webpack_require__(/*! ./views/PlaylistListView */ 132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__views_PlaylistContentView__ = __webpack_require__(/*! ./views/PlaylistContentView */ 161);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      Object(__WEBPACK_IMPORTED_MODULE_2__auth__[\"a\" /* checkAndSaveAuth */])();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var auth = Object(__WEBPACK_IMPORTED_MODULE_2__auth__[\"b\" /* getAuth */])();\n      if (!auth) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'please-auth' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'p',\n            null,\n            'You have not authenticated with Spotify, or your authentication has expired.'\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'button',\n            { onClick: function onClick() {\n                return Object(__WEBPACK_IMPORTED_MODULE_2__auth__[\"c\" /* redirectToAuth */])();\n              } },\n            'Authenticate'\n          )\n        );\n      }\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"a\" /* HashRouter */],\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          null,\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'nav',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              __WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"b\" /* Link */],\n              { to: '/' },\n              'Home'\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'article',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"c\" /* Route */], { path: '/playlist/:user_id/:playlist_id', component: __WEBPACK_IMPORTED_MODULE_4__views_PlaylistContentView__[\"a\" /* default */] }),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"c\" /* Route */], { path: '/', exact: true, component: __WEBPACK_IMPORTED_MODULE_3__views_PlaylistListView__[\"a\" /* default */] })\n          )\n        )\n      );\n    }\n  }]);\n\n  return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);\n\n\n\n/***/ })\n\n},[83]);\n\n\n// WEBPACK FOOTER //\n// client.9116424d.js","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getPlaylists } from '../spotifyApi';\nimport RequestStatus from '../components/RequestStatus';\n\nexport default class PlaylistListView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { playlistsRequest: null };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData() {\n    const playlistsRequest = getPlaylists();\n    playlistsRequest.then((playlists) => {\n      this.setState({ playlists });\n    });\n    playlistsRequest.onProgress.push(() => {\n      this.forceUpdate();\n    });\n    this.setState({ playlistsRequest });\n  }\n\n  render() {\n    const { playlistsRequest } = this.state;\n    if (!playlistsRequest) return null;\n    if (!playlistsRequest.result) {\n      return (\n        <RequestStatus\n          request={playlistsRequest}\n          progressMessage=\"Loading {n} playlists...\"\n          errorMessage=\"Oops, an error occurred loading your playlists.\"\n          retry={() => this.loadData()}\n        />\n      );\n    }\n    return (\n      <table className=\"visual-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Public?</th>\n            <th>Collaborative?</th>\n            <th>Tracks</th>\n          </tr>\n        </thead>\n        <tbody>\n          {(this.state.playlists || []).map(pl => (\n            <tr key={pl.id}>\n              <td>\n                <Link to={`/playlist/${pl.owner.id}/${pl.id}`}>\n                  <b>{pl.name}</b> by {pl.owner.display_name || pl.owner.id}\n                </Link>\n\n              </td>\n              <td>{pl.public ? 'Public' : null}</td>\n              <td>{pl.collaborative ? 'Collab' : null}</td>\n              <td>{pl.tracks.total}</td>\n            </tr>\n        ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/PlaylistListView.js","import React from 'react';\n\nexport default ({ error, message, retry }) => (\n  <div>\n    {message}\n    {retry ? <button onClick={() => retry()}>Try again</button> : null}\n    <details>\n      <summary>Error Details</summary>\n      {error.toString()}\n      <br />\n      <pre>{JSON.stringify(error, null, 2)}</pre>\n    </details>\n  </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Error.js","import React from 'react';\nimport { getPlaylist } from '../spotifyApi';\nimport PlaylistEntries from '../components/PlaylistEntries';\nimport RequestStatus from '../components/RequestStatus';\n\nexport default class PlaylistContentView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { playlistRequest: null };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n\n  loadData() {\n    const { params } = this.props.match;\n    const userId = params.user_id;\n    const playlistId = params.playlist_id;\n    const playlistRequest = getPlaylist(userId, playlistId);\n    playlistRequest.then((playlist) => {\n      this.setState({ playlist });\n    });\n    this.setState({ playlistRequest });\n  }\n\n  render() {\n    const { playlistRequest } = this.state;\n    if (!playlistRequest) return null;\n    if (!playlistRequest.result) {\n      return (\n        <RequestStatus\n          request={playlistRequest}\n          progressMessage=\"Loading playlist...\"\n          errorMessage=\"Oops, an error occurred loading this playlists.\"\n          retry={() => this.loadData()}\n        />\n      );\n    }\n    if (!this.state.playlist) {\n      return <div>Something unexpected happened. Sorry.</div>;\n    }\n    const { playlist } = this.state;\n    return (\n      <div>\n        <h1>{playlist.name}</h1>\n        <PlaylistEntries playlist={playlist} />\n      </div>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/PlaylistContentView.js","/* eslint-disable no-alert,no-console */\nimport React from 'react';\nimport sortBy from 'lodash/sortBy';\nimport get from 'lodash/get';\nimport reverse from 'lodash/reverse';\nimport toPairs from 'lodash/toPairs';\nimport update from 'immutability-helper';\n\nimport RequestStatus from './RequestStatus';\nimport SortAndFilterForm from './SortAndFilterForm';\n\nimport TrackDetailsService from '../services/TrackDetailsService';\nimport { createPlaylistWithTracks, getPlaylistEntries } from '../spotifyApi';\nimport { DETAILS_FIELDS } from '../consts';\nimport { formatDuration, formatTitle } from '../utils/format';\n\n\nexport default class PlaylistEntries extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlistEntriesRequest: null,\n      trackDetailsRequest: null,\n      sort: 'original',\n      reverse: false,\n      filters: {},\n    };\n  }\n\n  componentDidMount() {\n    this.loadPlaylistEntries();\n  }\n\n  loadPlaylistEntries() {\n    const { playlist } = this.props;\n    const playlistEntriesRequest = getPlaylistEntries(playlist.owner.id, playlist.id);\n\n    playlistEntriesRequest.onProgress.push(() => {\n      this.forceUpdate();\n    });\n    playlistEntriesRequest.then((playlistEntries) => {\n      this.setState({ playlistEntries });\n      this.loadTrackDetails();\n    });\n    this.setState({ playlistEntriesRequest });\n  }\n\n  loadTrackDetails() {\n    const trackIds = this.state.playlistEntries.map(ple => ple.track.id);\n    if (!trackIds.length) return;\n    const trackDetailsRequest = TrackDetailsService.ensureLoaded(trackIds);\n\n    trackDetailsRequest.onProgress.push(() => {\n      this.forceUpdate();\n    });\n    trackDetailsRequest.then(() => {\n      this.setState({ trackDetailsRequest: null });\n    });\n    this.setState({ trackDetailsRequest });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  createNewPlaylist(tracks) {\n    const title = prompt('What should the new playlist be called?');\n    if (!title) {\n      return false;\n    }\n    const spotifyUris = tracks.map(track => track.uri).filter(uri => uri);\n    return createPlaylistWithTracks(title, spotifyUris)\n      .then(() => {\n        alert('Playlist successfully created. :)');\n      })\n      .catch((err) => {\n        console.error(err);\n        alert(`Error creating playlist: ${err}`);\n      });\n  }\n\n  downloadEntriesJSON(tracks) {\n    const { playlist } = this.props;\n    const jsonData = JSON.stringify(tracks, null, 2);\n    const blob = new Blob([jsonData], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const downloadLink = Object.assign(document.createElement('a'), {\n      href: url,\n      download: `pls-${playlist.name}.json`,\n    });\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    setTimeout(() => {\n      downloadLink.parentNode.removeChild(downloadLink);\n    }, 500);\n  }\n\n  sortAndFilterEntries(playlistEntries) {\n    const filterPairs = toPairs(this.state.filters).filter(([, value]) => value !== '');\n    const filterEntry = entry => (\n      filterPairs.every(([key, value]) => {\n        const filterValue = parseFloat(value);\n        if (Number.isNaN(filterValue)) return true;\n        const [field, op] = key.split(':');\n        const objectValue = entry[field];\n        if (objectValue === undefined) return false;\n        if (op === 'gte') return objectValue >= filterValue;\n        if (op === 'lte') return objectValue <= filterValue;\n        console.warn(key, field, op, value);\n        return true;\n      })\n    );\n    let entries = (playlistEntries || []).map(ple => Object.assign(\n      {},\n      ple,\n      ple.track,\n      TrackDetailsService.getDetails(ple.track.id) || {},\n      { track: null },\n    )).filter(filterEntry);\n    if (this.state.sort !== 'original') {\n      const sortKey = this.state.sort;\n      entries = sortBy(entries, entry => get(entry, sortKey));\n    }\n    if (this.state.reverse) {\n      entries = reverse(entries);\n    }\n    return entries;\n  }\n\n  render() {\n    const { playlistEntries, playlistEntriesRequest, trackDetailsRequest } = this.state;\n    if (!playlistEntriesRequest) return null;\n    if (!playlistEntriesRequest.result) {\n      return (\n        <RequestStatus\n          request={playlistEntriesRequest}\n          progressMessage=\"Loading playlist entries...\"\n          errorMessage=\"Oops, an error occurred loading these entries.\"\n          retry={() => this.loadData()}\n        />\n      );\n    }\n    let detailsStatus;\n    if (trackDetailsRequest) {\n      detailsStatus = (\n        <RequestStatus\n          request={trackDetailsRequest}\n          progressMessage=\"Loading track analysis...\"\n          retry={() => this.loadTrackDetails()}\n        />\n      );\n    }\n    const entries = this.sortAndFilterEntries(playlistEntries);\n\n    return (\n      <div>\n        {detailsStatus}\n        <SortAndFilterForm\n          sort={this.state.sort}\n          reverse={this.state.reverse}\n          filters={this.state.filters}\n          setValue={(key, value) => this.setState({ [key]: value })}\n          setFilterValue={(key, value) => {\n            const updateCommand = (value === '' ? { $unset: [key] } : { [key]: { $set: value } });\n            const newFilters = update(this.state.filters, updateCommand);\n            return this.setState({ filters: newFilters });\n          }}\n        />\n        <fieldset>\n          <legend>Tools</legend>\n          <button\n            disabled={entries.length === 0}\n            onClick={() => this.createNewPlaylist(entries)}\n          >\n            Create New Playlist of {entries.length} Tracks\n          </button>\n          <button\n            disabled={entries.length === 0}\n            onClick={() => this.downloadEntriesJSON(entries)}\n          >\n            Export JSON Track Data\n          </button>\n        </fieldset>\n        <table className=\"visual-table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Artist</th>\n              <th>Track</th>\n              <th>Album</th>\n              <th>Duration</th>\n              {DETAILS_FIELDS.map(f => <th key={f}>{formatTitle(f)}</th>)}\n            </tr>\n          </thead>\n          <tbody>\n            {entries.map(entry => (\n              <tr key={entry.originalIndex}>\n                <td>{entry.originalIndex + 1}</td>\n                <td>{entry.artists.map(a => a.name).join(', ')}</td>\n                <td>{entry.name}</td>\n                <td>{(entry.album ? entry.album.name : null)}</td>\n                <td>{formatDuration(entry.duration_ms)}</td>\n                {DETAILS_FIELDS.map(f => <td key={f}>{entry[f]}</td>)}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/PlaylistEntries.js","import axios from 'axios/index';\nimport chunk from 'lodash/chunk';\n\nimport { getAuth } from './auth';\nimport Request from './utils/request';\n\nexport function requestAuthenticated(options) {\n  const auth = getAuth();\n  if (!(auth && auth.access_token)) {\n    return Promise.reject(new Error('Not authenticated'));\n  }\n  const headers = Object.assign({}, options.headers || {}, {\n    Authorization: `Bearer ${auth.access_token}`,\n  });\n\n  return axios.request(Object.assign({ method: 'GET' }, options, { headers }));\n}\n\nfunction loadPagedResource(url, params, limit, requestLimit = 50) {\n  let offset = 0;\n  const items = [];\n  return new Request((resolve, reject, request) => {\n    const tick = () => requestAuthenticated({\n      url,\n      params: Object.assign({}, params, { limit: requestLimit, offset }),\n    })\n      .then(({ data }) => {\n        data.items.forEach((playlist) => {\n          items.push(playlist);\n        });\n        request.reportProgress({\n          total: data.total,\n          loaded: items.length,\n          items,\n        });\n        if (request.cancelRequested) {\n          // eslint-disable-next-line prefer-promise-reject-errors\n          reject({ cancel: true });\n          return;\n        }\n        if (data.next && items.length < limit) {\n          offset += data.limit;\n          setTimeout(tick, 16);\n        } else {\n          resolve(items);\n        }\n      })\n      .catch(reject);\n    tick();\n  });\n}\n\nexport function getPlaylists(limit = 0xFFFF) {\n  return loadPagedResource('https://api.spotify.com/v1/me/playlists', {}, limit);\n}\n\nexport function getPlaylist(userId, playlistId) {\n  const plPromise = requestAuthenticated({\n    url: `https://api.spotify.com/v1/users/${userId}/playlists/${playlistId}`,\n  }).then(({ data }) => data);\n  return new Request(plPromise);\n}\n\nexport function getPlaylistEntries(userId, playlistId, limit = 0xFFFF) {\n  const req = loadPagedResource(\n    `https://api.spotify.com/v1/users/${userId}/playlists/${playlistId}/tracks`,\n    {},\n    limit,\n    100,\n  );\n  req.then((entries) => {\n    for (let i = 0; i < entries.length; i += 1) {\n      // eslint-disable-next-line no-param-reassign\n      entries[i].originalIndex = i;\n    }\n    return entries;\n  });\n  return req;\n}\n\nexport function createPlaylistWithTracks(title, spotifyUris) {\n  return requestAuthenticated({ method: 'GET', url: 'https://api.spotify.com/v1/me' })\n    .then((userResp) => {\n      const userData = userResp.data;\n      const userName = userData.id;\n      return requestAuthenticated({\n        method: 'POST',\n        url: `https://api.spotify.com/v1/users/${userName}/playlists`,\n        data: {\n          name: title,\n          description: `Playlist created by pls by @akx on ${new Date().toISOString()}`,\n          public: false,\n        },\n      }).then((resp) => {\n        const newPlaylistId = resp.data.id;\n        const spotifyUriChunks = chunk(spotifyUris, 100);\n        return new Promise((resolve) => {\n          const tick = () => {\n            if (!spotifyUriChunks.length) {\n              resolve(true);\n              return;\n            }\n            const spotifyUriChunk = spotifyUriChunks.shift();\n            requestAuthenticated({\n              method: 'POST',\n              url: `https://api.spotify.com/v1/users/${userName}/playlists/${newPlaylistId}/tracks`,\n              data: {\n                uris: spotifyUriChunk,\n              },\n            }).then(() => {\n              setTimeout(tick, 16);\n            });\n          };\n          tick();\n        });\n      });\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/spotifyApi.js","/* eslint-disable react/prefer-stateless-function */\nimport React from 'react';\nimport { RESORT_FIELDS } from '../consts';\nimport { formatTitle } from '../utils/format';\n\nexport default class SortAndFilterForm extends React.Component {\n  render() {\n    const lteFields = [];\n    const gteFields = [];\n    RESORT_FIELDS.forEach((f) => {\n      gteFields.push((\n        <td key={f}>\n          <input\n            type=\"number\"\n            value={this.props.filters[`${f}:gte`] || ''}\n            size={3}\n            onChange={(e) => {\n              this.props.setFilterValue(`${f}:gte`, e.target.value);\n            }}\n          />\n        </td>\n      ));\n      lteFields.push((\n        <td key={f}>\n          <input\n            type=\"number\"\n            value={this.props.filters[`${f}:lte`] || ''}\n            size={3}\n            onChange={(e) => {\n              this.props.setFilterValue(`${f}:lte`, e.target.value);\n            }}\n          />\n        </td>\n      ));\n    });\n    return (\n      <fieldset className=\"sort-and-filter\">\n        <legend>Sort & Filter</legend>\n        <div className=\"sort\">\n          <label>\n            <span>Sort</span>\n            <select\n              value={this.props.sort}\n              onChange={(e) => {\n                this.props.setValue('sort', e.target.value);\n              }}\n            >\n              <option value=\"original\">Original sort</option>\n              {RESORT_FIELDS.map(f => <option key={f} value={f}>{formatTitle(f)}</option>)}\n            </select>\n          </label>\n          <label>\n            <input\n              type=\"checkbox\"\n              checked={this.props.reverse}\n              onChange={(e) => {\n                this.props.setValue('reverse', e.target.checked);\n              }}\n            />\n            <span>Reverse</span>\n          </label>\n        </div>\n        <div className=\"filters\">\n          <table>\n            <thead>\n              <tr>\n                <th />\n                {RESORT_FIELDS.map(f => <th key={f}>{formatTitle(f)}</th>)}\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td></td>\n                {gteFields}\n              </tr>\n              <tr>\n                <td></td>\n                {lteFields}\n              </tr>\n            </tbody>\n          </table>\n\n        </div>\n      </fieldset>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SortAndFilterForm.js","import { requestAuthenticated } from '../spotifyApi';\nimport Request from '../utils/request';\n\nclass TrackDetailsService {\n  constructor() {\n    this.cache = new Map();\n    this.listeners = [];\n  }\n\n  ensureLoaded(trackIds) {\n    return new Request((resolve, reject, request) => {\n      const tick = () => {\n        const newTrackIds = trackIds.filter(trackId => !this.cache.has(trackId));\n        request.reportProgress({\n          loaded: trackIds.length - newTrackIds.length,\n          total: trackIds.length,\n        });\n        if (newTrackIds.length) {\n          const trackIdsToQuery = newTrackIds.slice(0, 100); // Maximum for the API\n          requestAuthenticated({\n            url: 'https://api.spotify.com/v1/audio-features',\n            params: {\n              ids: trackIdsToQuery.join(','),\n            },\n          })\n            .then((resp) => {\n              resp.data.audio_features.forEach((fobj) => {\n                this.cache.set(fobj.id, fobj);\n              });\n              setTimeout(tick, 16);\n            });\n          return;\n        }\n        const details = {};\n        trackIds.forEach((trackId) => {\n          details[trackId] = this.cache.get(trackId);\n        });\n        resolve(details);\n      };\n      tick();\n    });\n  }\n\n  getDetails(trackId) {\n    return this.cache.get(trackId);\n  }\n}\n\nexport default new TrackDetailsService();\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/TrackDetailsService.js","import React from 'react';\nimport Error from './Error';\n\nexport default ({\n  request, progressMessage, errorMessage, retry,\n}) => {\n  if (!request) return null;\n  if (request.error) {\n    return (\n      <Error\n        error={request.error}\n        message={errorMessage || 'An error occurred'}\n        retry={retry}\n      />\n    );\n  }\n  if (request.busy) {\n    const { progress } = request;\n    return (\n      <div className=\"request-status\">\n        <div className=\"request-status-message\">\n          {(progressMessage || 'Loading').replace('{n}', progress && progress.total ? `${progress.total}` : '')}\n        </div>\n        {progress && progress.loaded ? (\n          <div className=\"request-status-progress-wrapper\">\n            <span>{progress.loaded}/{progress.total}</span>\n            <progress max={progress.total} value={progress.loaded} />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n  return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/RequestStatus.js","/* eslint-disable no-restricted-globals */\nimport qs from 'querystring';\n\nexport function getAuth() {\n  const auth = JSON.parse(sessionStorage.plsAuth || 'null');\n  if (auth) {\n    if (+new Date() >= auth.expiresAt) {\n      return null;\n    }\n    return auth;\n  }\n  return null;\n}\n\nexport function redirectToAuth() {\n  location.href = (`https://accounts.spotify.com/authorize?${qs.stringify({\n    response_type: 'token',\n    client_id: process.env.SPOTIFY_CLIENT_ID,\n    scope: [\n      'user-read-private',\n      'playlist-modify-private',\n      'playlist-modify-public',\n      'playlist-read-private',\n      'playlist-read-collaborative',\n    ].join(' '),\n    show_dialog: true,\n    redirect_uri: location.href.replace(/[?#]+.*/g, ''),\n  })}`);\n}\n\nexport function checkAndSaveAuth() {\n  const hqs = qs.parse(location.hash.replace(/^#/, ''));\n  if (hqs.access_token && hqs.token_type === 'Bearer') {\n    const auth = Object.assign({ expiresAt: +new Date() + (hqs.expires_in * 1000) }, hqs);\n    sessionStorage.plsAuth = JSON.stringify(auth);\n    location.hash = '';\n    return auth;\n  }\n  return null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth.js","/* eslint-disable no-underscore-dangle */\nexport default class Request {\n  constructor(promiseOrExecutor) {\n    this.progress = null;\n    this.cancelRequested = false;\n    this.onProgress = [];\n    this.busy = true;\n    this.result = null;\n    this.error = null;\n    this._promise = this._initializePromise(promiseOrExecutor);\n  }\n\n  _initializePromise(promiseOrExecutor) {\n    let promise;\n    if (promiseOrExecutor.then) {\n      promise = promiseOrExecutor;\n    } else {\n      promise = new Promise((resolve, reject) => promiseOrExecutor(resolve, reject, this));\n    }\n    return promise\n      .then((result) => {\n        this.busy = false;\n        this.result = result;\n        return result;\n      })\n      .catch((err) => {\n        this.busy = false;\n        this.error = err;\n        return Promise.reject(err);\n      });\n  }\n\n  then(thenner) {\n    this._promise = this._promise.then(thenner);\n    return this;\n  }\n\n  catch(thenner) {\n    this._promise = this._promise.catch(thenner);\n    return this;\n  }\n\n  reportProgress(progress) {\n    this.progress = progress;\n    this.onProgress.forEach(fn => fn(this.progress));\n  }\n\n  cancel() {\n    if (!this.cancelRequested) {\n      this.cancelRequested = true;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js","export const DETAILS_FIELDS = [\n  'tempo',\n  'time_signature',\n  'key',\n  'mode',\n  'acousticness',\n  'danceability',\n  'energy',\n  'instrumentalness',\n  'loudness',\n  'speechiness',\n  'valence',\n];\n\nexport const RESORT_FIELDS = [\n  'name',\n  'duration_ms',\n].concat(DETAILS_FIELDS);\n\n\n\n// WEBPACK FOOTER //\n// ./src/consts.js","import upperFirst from 'lodash/upperFirst';\n\nexport const formatDuration = (ms) => {\n  const totalSecs = Math.round(ms / 1000);\n  const mins = Math.floor(totalSecs / 60);\n  const secs = totalSecs % 60;\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\n};\n\nexport const formatTitle = f => (f === 'time_signature' ? 'Timesig' : upperFirst(f).replace('_', ' '));\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/format.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style.css';\n\nconst root = document.createElement('main');\ndocument.body.appendChild(root);\nReactDOM.render(<App />, root);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport { HashRouter, Route, Link } from 'react-router-dom';\n\nimport { checkAndSaveAuth, getAuth, redirectToAuth } from './auth';\nimport PlaylistListView from './views/PlaylistListView';\nimport PlaylistContentView from './views/PlaylistContentView';\n\nexport default class App extends React.Component {\n  componentWillMount() {\n    checkAndSaveAuth();\n  }\n\n  render() {\n    const auth = getAuth();\n    if (!auth) {\n      return (\n        <div className=\"please-auth\">\n          <p>You have not authenticated with Spotify, or your authentication has expired.</p>\n          <button onClick={() => redirectToAuth()}>Authenticate</button>\n        </div>\n      );\n    }\n    return (\n      <HashRouter>\n        <div>\n          <nav>\n            <Link to=\"/\">Home</Link>\n          </nav>\n          <article>\n            <Route path=\"/playlist/:user_id/:playlist_id\" component={PlaylistContentView} />\n            <Route path=\"/\" exact component={PlaylistListView} />\n          </article>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js"],"sourceRoot":""}